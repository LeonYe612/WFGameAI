import{m as C,r as s,w,A as d,j as t,k as c,F as f,p as B,u as o,I as g,B as A,y as N,aL as R,x as y,aM as E,N as F}from"./index-fbbdd03e.js";import{p as K}from"./index-ccf167da.js";const j=C({name:"ArrayInput",__name:"arrayInput",props:{modelValue:{type:Array,required:!0},type:{type:String,default:"number"},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(v,{emit:b}){const e=v,_=b,l=s(""),a=s(e.modelValue||[]),u=s(!1),r=s(),V=i=>{a.value.splice(a.value.indexOf(i),1)},k=()=>{u.value=!0,F(()=>{r.value.input.focus()})},p=()=>{l.value&&(e.type==="number"?a.value.push(Number(l.value)):e.type==="text"&&a.value.push(l.value)),u.value=!1,l.value=""};return w(()=>e.modelValue,()=>{_("update:modelValue",a.value)},{immediate:!0}),(i,m)=>{const x=d("el-tag"),h=d("el-button");return t(),c(f,null,[(t(!0),c(f,null,B(a.value,(n,I)=>(t(),o(x,{key:I,type:"info",class:"mx-1 mt-1",closable:!e.disabled,"disable-transitions":!1,onClose:L=>V(n),plain:""},{default:g(()=>[A(N(n),1)]),_:2},1032,["closable","onClose"]))),128)),u.value?(t(),o(y(E),{key:0,type:e.type,ref_key:"InputRef",ref:r,modelValue:l.value,"onUpdate:modelValue":m[0]||(m[0]=n=>l.value=n),class:"ml-1",onKeyup:R(p,["enter"]),onBlur:p,style:{width:"60px"}},null,8,["type","modelValue"])):(t(),o(h,{key:1,disabled:e.disabled,class:"ml-1 mt-1",icon:y(K),size:"small",onClick:k},null,8,["disabled","icon"]))],64)}}});export{j as default};
