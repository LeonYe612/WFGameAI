import{l as C,r as s,w as I,z as m,h as t,j as c,F as f,m as w,q as o,H as g,A as B,x as K,aJ as A,v as y,aK as R,M as q}from"./index-e046f3d2.js";import{p as z}from"./index-8ca571cf.js";const S=C({name:"ArrayInput",__name:"arrayInput",props:{modelValue:{type:Array,required:!0},type:{type:String,default:"number"},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(v,{emit:b}){const e=v,l=s(""),a=s(e.modelValue||[]),u=s(!1),r=s(),_=i=>{a.value.splice(a.value.indexOf(i),1)},V=()=>{u.value=!0,q(()=>{r.value.input.focus()})},p=()=>{l.value&&(e.type==="number"?a.value.push(Number(l.value)):e.type==="text"&&a.value.push(l.value)),u.value=!1,l.value=""};return I(()=>e.modelValue,()=>{b("update:modelValue",a.value)},{immediate:!0}),(i,d)=>{const x=m("el-tag"),h=m("el-button");return t(),c(f,null,[(t(!0),c(f,null,w(a.value,(n,k)=>(t(),o(x,{key:k,type:"info",class:"mx-1 mt-1",closable:!e.disabled,"disable-transitions":!1,onClose:E=>_(n),plain:""},{default:g(()=>[B(K(n),1)]),_:2},1032,["closable","onClose"]))),128)),u.value?(t(),o(y(R),{key:0,type:e.type,ref_key:"InputRef",ref:r,modelValue:l.value,"onUpdate:modelValue":d[0]||(d[0]=n=>l.value=n),class:"ml-1",onKeyup:A(p,["enter"]),onBlur:p,style:{width:"60px"}},null,8,["type","modelValue","onKeyup"])):(t(),o(h,{key:1,disabled:e.disabled,class:"ml-1 mt-1",icon:y(z),size:"small",onClick:V},null,8,["disabled","icon"]))],64)}}});export{S as default};
