import{$ as R,l as U,r as B,z as o,h as c,q as b,H as a,k as d,y as e,j as q,m as E,F as Z,A as y,v as S,b0 as C,ah as I,ai as A,_ as F}from"./index-c3bc70ba.js";const G=R({systemName:[{required:!0,message:"系统名称为必填项",trigger:"blur"},{min:2,max:50,message:"系统名称长度应在2-50字符之间",trigger:"blur"}],adminEmail:[{required:!0,message:"管理员邮箱为必填项",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],maxDevice:[{required:!0,message:"最大设备数量为必填项",trigger:"blur"},{type:"number",min:1,max:1e3,message:"设备数量应在1-1000之间",trigger:"blur"}],reportRetentionDays:[{required:!0,message:"报告保留天数为必填项",trigger:"blur"},{type:"number",min:1,max:365,message:"保留天数应在1-365天之间",trigger:"blur"}],timeZone:[{required:!0,message:"请选择时区",trigger:"change"}]}),M=r=>(I("data-v-5df10aab"),r=r(),A(),r),O={class:"card-header"},j=M(()=>d("span",{class:"header-title"},"通用设置",-1)),z={class:"settings-content"},H={class:"form-actions"},L=U({name:"GeneralSettings",__name:"generalSettings",props:{settings:{},timeZoneOptions:{},loading:{type:Boolean}},emits:["save","reset","update:settings"],setup(r,{emit:u}){const h=r,m=B(),x=async()=>{if(!m.value)return;await m.value.validate().catch(()=>!1)&&u("save")},V=()=>{u("reset")},i=(n,l)=>{const p={...h.settings,[n]:l};u("update:settings",p)};return(n,l)=>{const p=o("Setting"),k=o("el-icon"),v=o("el-input"),s=o("el-form-item"),_=o("el-input-number"),w=o("el-option"),N=o("el-select"),g=o("el-switch"),f=o("el-button"),D=o("el-card");return c(),b(D,{shadow:"never"},{header:a(()=>[d("div",O,[e(k,null,{default:a(()=>[e(p)]),_:1}),j])]),default:a(()=>[d("div",z,[e(S(C),{ref_key:"formRef",ref:m,model:n.settings,rules:S(G),"label-width":"120px","label-position":"left"},{default:a(()=>[e(s,{label:"系统名称",prop:"systemName"},{default:a(()=>[e(v,{"model-value":n.settings.systemName,"onUpdate:modelValue":l[0]||(l[0]=t=>i("systemName",t)),placeholder:"请输入系统名称"},null,8,["model-value"])]),_:1}),e(s,{label:"管理员邮箱",prop:"adminEmail"},{default:a(()=>[e(v,{"model-value":n.settings.adminEmail,"onUpdate:modelValue":l[1]||(l[1]=t=>i("adminEmail",t)),placeholder:"请输入管理员邮箱",type:"email"},null,8,["model-value"])]),_:1}),e(s,{label:"最大设备数量",prop:"maxDevice"},{default:a(()=>[e(_,{"model-value":n.settings.maxDevice,"onUpdate:modelValue":l[2]||(l[2]=t=>i("maxDevice",t)),min:1,max:1e3,placeholder:"请输入最大设备数量"},null,8,["model-value"])]),_:1}),e(s,{label:"报告保留天数",prop:"reportRetentionDays"},{default:a(()=>[e(_,{"model-value":n.settings.reportRetentionDays,"onUpdate:modelValue":l[3]||(l[3]=t=>i("reportRetentionDays",t)),min:1,max:365,placeholder:"请输入报告保留天数"},null,8,["model-value"])]),_:1}),e(s,{label:"时区设置",prop:"timeZone"},{default:a(()=>[e(N,{"model-value":n.settings.timeZone,"onUpdate:modelValue":l[4]||(l[4]=t=>i("timeZone",t)),placeholder:"请选择时区",style:{width:"100%"}},{default:a(()=>[(c(!0),q(Z,null,E(n.timeZoneOptions,t=>(c(),b(w,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["model-value"])]),_:1}),e(s,{label:"邮件通知"},{default:a(()=>[e(g,{"model-value":n.settings.enableNotifications,"onUpdate:modelValue":l[5]||(l[5]=t=>i("enableNotifications",t)),"active-text":"启用","inactive-text":"关闭"},null,8,["model-value"])]),_:1}),e(s,{label:"自动备份"},{default:a(()=>[e(g,{"model-value":n.settings.enableAutoBackup,"onUpdate:modelValue":l[6]||(l[6]=t=>i("enableAutoBackup",t)),"active-text":"启用","inactive-text":"关闭"},null,8,["model-value"])]),_:1}),e(s,{label:"调试模式"},{default:a(()=>[e(g,{"model-value":n.settings.debugMode,"onUpdate:modelValue":l[7]||(l[7]=t=>i("debugMode",t)),"active-text":"开启","inactive-text":"关闭"},null,8,["model-value"])]),_:1}),e(s,null,{default:a(()=>[d("div",H,[e(f,{type:"primary",loading:n.loading,onClick:x},{default:a(()=>[y(" 保存设置 ")]),_:1},8,["loading"]),e(f,{type:"default",onClick:V},{default:a(()=>[y(" 重置 ")]),_:1})])]),_:1})]),_:1},8,["model","rules"])])]),_:1})}}});const $=F(L,[["__scopeId","data-v-5df10aab"]]);export{$ as default};
