import{v as V,r as g,x as N}from"./index-ccf167da.js";import{m as $,d as A,A as i,j as a,u as r,I as n,l as t,z as l,x as _,B as c,k as h,F,p as I,M,y as d,R,_ as j}from"./index-fbbdd03e.js";const D={class:"card-header"},L={class:"header-left"},q={class:"python-settings-content"},G={key:0,class:"loading-container"},H={key:2,class:"environments-grid"},J={class:"env-header"},K={class:"env-name"},O={class:"env-content"},Q={class:"env-info"},U={class:"python-version"},W={class:"env-path"},X={class:"package-count"},Y={class:"env-actions"},Z=$({name:"PythonSettings",__name:"pythonSettings",props:{environments:{},loading:{type:Boolean},error:{}},emits:["refresh","switch"],setup(k,{emit:P}){const m=k,y=P,C=e=>e.active?"success":"info",w=e=>e.active?"当前环境":"可选环境",S=e=>e?`Python ${e}`:"Python 未知版本",b=e=>`包含 ${(e==null?void 0:e.length)||0} 个已安装包`,x=()=>{y("refresh")},z=e=>{y("switch",e)},B=A(()=>m.environments&&m.environments.length>0);return(e,s)=>{const p=i("el-icon"),u=i("el-button"),f=i("el-alert"),E=i("el-tag"),v=i("el-card"),T=i("el-empty");return a(),r(v,{shadow:"never"},{header:n(()=>[t("div",D,[t("div",L,[l(p,null,{default:n(()=>[l(_(V))]),_:1}),s[0]||(s[0]=t("span",{class:"header-title"},"Python环境管理",-1))]),l(u,{type:"primary",size:"default",loading:e.loading,onClick:x},{default:n(()=>[l(p,null,{default:n(()=>[l(_(g))]),_:1}),s[1]||(s[1]=c(" 检测环境 ",-1))]),_:1},8,["loading"])])]),default:n(()=>[t("div",q,[l(f,{type:"info",closable:!1,"show-icon":"",class:"mb-4"},{title:n(()=>[...s[2]||(s[2]=[c(" 检测系统中所有可用的Python环境，自动识别Anaconda/Miniconda环境，并可以切换当前环境。 ",-1)])]),_:1}),e.loading?(a(),h("div",G,[l(p,{class:"loading-icon"},{default:n(()=>[l(_(g))]),_:1}),s[3]||(s[3]=t("p",{class:"loading-text"},"正在检测系统中的Python环境，请稍候...",-1))])):e.error?(a(),r(f,{key:1,type:"error",title:e.error,"show-icon":"",closable:!1},null,8,["title"])):B.value?(a(),h("div",H,[(a(!0),h(F,null,I(e.environments,o=>(a(),r(v,{key:o.path,shadow:"hover",class:M(["env-card",{"env-card--active":o.active}])},{header:n(()=>[t("div",J,[t("h4",K,d(o.name),1),l(E,{type:C(o),size:"default"},{default:n(()=>[c(d(w(o)),1)]),_:2},1032,["type"])])]),default:n(()=>[t("div",O,[t("div",Q,[t("p",U,d(S(o.version)),1),t("p",W,d(o.path),1),t("p",X,d(b(o.packages)),1)]),t("div",Y,[o.active?(a(),r(u,{key:0,type:"success",icon:_(N),disabled:"",size:"default"},{default:n(()=>[...s[4]||(s[4]=[c(" 当前环境 ",-1)])]),_:1},8,["icon"])):(a(),r(u,{key:1,type:"primary",size:"default",onClick:ee=>z(o.path)},{default:n(()=>[...s[5]||(s[5]=[c(" 切换到此环境 ",-1)])]),_:1},8,["onClick"]))])])]),_:2},1032,["class"]))),128))])):e.loading?R("",!0):(a(),r(T,{key:3,description:"点击 [检测环境] 按钮, 开始扫描可用的Python环境",class:"empty-state"}))])]),_:1})}}});const ne=j(Z,[["__scopeId","data-v-56d4c032"]]);export{ne as default};
