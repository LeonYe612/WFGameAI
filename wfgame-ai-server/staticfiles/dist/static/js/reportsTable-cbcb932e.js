import{r as F,F as N,G as S,m as V,H as $,i as y,I as A}from"./index-0964a6d0.js";import{f as j,g as h,a as E}from"./rules-1d693796.js";import{m as G,A as l,j as i,k as c,z as e,I as t,x as n,B as u,F as g,p as k,u as w,l as s,y as m,v as H,_ as L}from"./index-41f05ddf.js";const q={class:"reports-table"},J={key:0,class:"loading-container"},K={key:1,class:"empty-container"},M={key:2,class:"reports-grid"},O={class:"report-header"},P={class:"report-info"},Q={class:"report-title"},U={class:"report-meta"},W={class:"meta-text"},X={class:"report-actions"},Y={class:"report-stats"},Z={class:"stat-item"},ee={class:"stat-item"},te={class:"stat-text"},se={class:"device-list"},ae={class:"device-items"},oe={class:"device-info"},ne={class:"device-name"},le=G({__name:"reportsTable",props:{data:{},loading:{type:Boolean,default:!1},pagination:{default:void 0}},emits:["action","page-change","size-change","refresh"],setup(de,{emit:b}){const C=b,f=(r,a)=>{C("action",r,a)};return(r,a)=>{const z=l("el-skeleton"),d=l("el-icon"),p=l("el-button"),B=l("el-empty"),x=l("el-dropdown-item"),R=l("el-dropdown-menu"),T=l("el-dropdown"),v=l("el-tag"),I=l("el-link"),D=l("el-card");return i(),c("div",q,[r.loading?(i(),c("div",J,[e(z,{rows:5,animated:""})])):r.data.length===0?(i(),c("div",K,[e(B,{description:"暂无报告数据"},{default:t(()=>[e(p,{type:"primary",onClick:a[0]||(a[0]=o=>r.$emit("refresh"))},{default:t(()=>[e(d,null,{default:t(()=>[e(n(F))]),_:1}),a[1]||(a[1]=u(" 刷新数据 ",-1))]),_:1})]),_:1})])):(i(),c("div",M,[(i(!0),c(g,null,k(r.data,o=>(i(),w(D,{key:o.id,class:"report-card",shadow:"hover"},{default:t(()=>[s("div",O,[s("div",P,[s("h3",Q,m(o.title),1),s("div",U,[e(d,{class:"meta-icon"},{default:t(()=>[e(n(N))]),_:1}),s("span",W,m(n(j)(o.created_at)),1)])]),s("div",X,[e(p,{type:"primary",size:"small",onClick:_=>f("view",o)},{default:t(()=>[e(d,null,{default:t(()=>[e(n(S))]),_:1}),a[2]||(a[2]=u(" 概要报告 ",-1))]),_:1},8,["onClick"]),e(T,{onCommand:_=>f(_,o)},{dropdown:t(()=>[e(R,null,{default:t(()=>[e(x,{command:"delete",divided:""},{default:t(()=>[e(d,null,{default:t(()=>[e(n(V))]),_:1}),a[3]||(a[3]=u(" 删除报告 ",-1))]),_:1})]),_:1})]),default:t(()=>[e(p,{size:"small",type:"default"},{default:t(()=>[e(d,null,{default:t(()=>[e(n($))]),_:1})]),_:1})]),_:1},8,["onCommand"])])]),s("div",Y,[s("div",Z,[e(v,{type:n(h)(o.successRate).type,size:"default"},{default:t(()=>[e(d,{class:"tag-icon"},{default:t(()=>[(i(),w(H(n(h)(o.successRate).icon)))]),_:2},1024),u(" 成功率: "+m(n(E)(o.success_count,o.deviceCount)),1)]),_:2},1032,["type"])]),s("div",ee,[e(d,{class:"stat-icon"},{default:t(()=>[e(n(y))]),_:1}),s("span",te,"设备数: "+m(o.deviceCount),1)])]),s("div",se,[a[5]||(a[5]=s("div",{class:"device-list-header"},[s("strong",null,"设备详情：")],-1)),s("div",ae,[(i(!0),c(g,null,k(o.devices,_=>(i(),c("div",{key:_.name,class:"device-item"},[s("div",oe,[e(d,{class:"device-icon"},{default:t(()=>[e(n(y))]),_:1}),s("span",ne,m(_.name),1),e(v,{type:_.status==="通过"?"success":"danger",size:"small"},{default:t(()=>[u(m(_.status),1)]),_:2},1032,["type"])]),e(I,{href:_.detail_url,target:"_blank",type:"primary",class:"device-link"},{default:t(()=>[a[4]||(a[4]=u(" 详细报告 ",-1)),e(d,null,{default:t(()=>[e(n(A))]),_:1})]),_:1},8,["href"])]))),128))])])]),_:2},1024))),128))]))])}}});const re=L(le,[["__scopeId","data-v-4bfc1b4a"]]);export{re as default};
