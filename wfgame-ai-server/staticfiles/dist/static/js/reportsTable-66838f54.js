import{r as D,E as F,F as N,m as V,G as $,i as y,H as A}from"./index-52ed101c.js";import{f as E,g,a as H}from"./rules-1d693796.js";import{l as j,z as n,h as d,j as _,y as e,H as t,v as o,A as r,F as k,m as b,q as w,k as s,x as u,u as q,ah as G,ai as L,_ as J}from"./index-c3bc70ba.js";const K=p=>(G("data-v-4bfc1b4a"),p=p(),L(),p),M={class:"reports-table"},O={key:0,class:"loading-container"},P={key:1,class:"empty-container"},Q={key:2,class:"reports-grid"},U={class:"report-header"},W={class:"report-info"},X={class:"report-title"},Y={class:"report-meta"},Z={class:"meta-text"},ee={class:"report-actions"},te={class:"report-stats"},se={class:"stat-item"},ae={class:"stat-item"},oe={class:"stat-text"},ne={class:"device-list"},le=K(()=>s("div",{class:"device-list-header"},[s("strong",null,"设备详情：")],-1)),de={class:"device-items"},ce={class:"device-info"},_e={class:"device-name"},ie=j({__name:"reportsTable",props:{data:{},loading:{type:Boolean,default:!1},pagination:{default:void 0}},emits:["action","page-change","size-change","refresh"],setup(p,{emit:C}){const h=(i,m)=>{C("action",i,m)};return(i,m)=>{const z=n("el-skeleton"),l=n("el-icon"),f=n("el-button"),S=n("el-empty"),x=n("el-dropdown-item"),B=n("el-dropdown-menu"),I=n("el-dropdown"),v=n("el-tag"),R=n("el-link"),T=n("el-card");return d(),_("div",M,[i.loading?(d(),_("div",O,[e(z,{rows:5,animated:""})])):i.data.length===0?(d(),_("div",P,[e(S,{description:"暂无报告数据"},{default:t(()=>[e(f,{type:"primary",onClick:m[0]||(m[0]=a=>i.$emit("refresh"))},{default:t(()=>[e(l,null,{default:t(()=>[e(o(D))]),_:1}),r(" 刷新数据 ")]),_:1})]),_:1})])):(d(),_("div",Q,[(d(!0),_(k,null,b(i.data,a=>(d(),w(T,{key:a.id,class:"report-card",shadow:"hover"},{default:t(()=>[s("div",U,[s("div",W,[s("h3",X,u(a.title),1),s("div",Y,[e(l,{class:"meta-icon"},{default:t(()=>[e(o(F))]),_:1}),s("span",Z,u(o(E)(a.created_at)),1)])]),s("div",ee,[e(f,{type:"primary",size:"small",onClick:c=>h("view",a)},{default:t(()=>[e(l,null,{default:t(()=>[e(o(N))]),_:1}),r(" 概要报告 ")]),_:2},1032,["onClick"]),e(I,{onCommand:c=>h(c,a)},{dropdown:t(()=>[e(B,null,{default:t(()=>[e(x,{command:"delete",divided:""},{default:t(()=>[e(l,null,{default:t(()=>[e(o(V))]),_:1}),r(" 删除报告 ")]),_:1})]),_:1})]),default:t(()=>[e(f,{size:"small",type:"default"},{default:t(()=>[e(l,null,{default:t(()=>[e(o($))]),_:1})]),_:1})]),_:2},1032,["onCommand"])])]),s("div",te,[s("div",se,[e(v,{type:o(g)(a.successRate).type,size:"default"},{default:t(()=>[e(l,{class:"tag-icon"},{default:t(()=>[(d(),w(q(o(g)(a.successRate).icon)))]),_:2},1024),r(" 成功率: "+u(o(H)(a.success_count,a.deviceCount)),1)]),_:2},1032,["type"])]),s("div",ae,[e(l,{class:"stat-icon"},{default:t(()=>[e(o(y))]),_:1}),s("span",oe,"设备数: "+u(a.deviceCount),1)])]),s("div",ne,[le,s("div",de,[(d(!0),_(k,null,b(a.devices,c=>(d(),_("div",{key:c.name,class:"device-item"},[s("div",ce,[e(l,{class:"device-icon"},{default:t(()=>[e(o(y))]),_:1}),s("span",_e,u(c.name),1),e(v,{type:c.status==="通过"?"success":"danger",size:"small"},{default:t(()=>[r(u(c.status),1)]),_:2},1032,["type"])]),e(R,{href:c.detail_url,target:"_blank",type:"primary",class:"device-link"},{default:t(()=>[r(" 详细报告 "),e(l,null,{default:t(()=>[e(o(A))]),_:1})]),_:2},1032,["href"])]))),128))])])]),_:2},1024))),128))]))])}}});const me=J(ie,[["__scopeId","data-v-4bfc1b4a"]]);export{me as default};
