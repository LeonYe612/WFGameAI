import{v as T,r as g,x as V}from"./index-52ed101c.js";import{l as I,c as N,z as c,h as o,q as l,H as s,k as t,y as a,v as _,A as r,j as u,F as $,m as A,L as F,x as d,Q as L,ah as j,ai as q,_ as D}from"./index-c3bc70ba.js";const k=i=>(j("data-v-56d4c032"),i=i(),q(),i),H={class:"card-header"},M={class:"header-left"},Q=k(()=>t("span",{class:"header-title"},"Python环境管理",-1)),R={class:"python-settings-content"},G={key:0,class:"loading-container"},J=k(()=>t("p",{class:"loading-text"},"正在检测系统中的Python环境，请稍候...",-1)),K={key:2,class:"environments-grid"},O={class:"env-header"},U={class:"env-name"},W={class:"env-content"},X={class:"env-info"},Y={class:"python-version"},Z={class:"env-path"},ee={class:"package-count"},te={class:"env-actions"},se=I({name:"PythonSettings",__name:"pythonSettings",props:{environments:{},loading:{type:Boolean},error:{}},emits:["refresh","switch"],setup(i,{emit:y}){const m=i,S=e=>e.active?"success":"info",P=e=>e.active?"当前环境":"可选环境",w=e=>e?`Python ${e}`:"Python 未知版本",C=e=>`包含 ${(e==null?void 0:e.length)||0} 个已安装包`,b=()=>{y("refresh")},x=e=>{y("switch",e)},z=N(()=>m.environments&&m.environments.length>0);return(e,ne)=>{const h=c("el-icon"),p=c("el-button"),v=c("el-alert"),B=c("el-tag"),f=c("el-card"),E=c("el-empty");return o(),l(f,{shadow:"never"},{header:s(()=>[t("div",H,[t("div",M,[a(h,null,{default:s(()=>[a(_(T))]),_:1}),Q]),a(p,{type:"primary",size:"default",loading:e.loading,onClick:b},{default:s(()=>[a(h,null,{default:s(()=>[a(_(g))]),_:1}),r(" 检测环境 ")]),_:1},8,["loading"])])]),default:s(()=>[t("div",R,[a(v,{type:"info",closable:!1,"show-icon":"",class:"mb-4"},{title:s(()=>[r(" 检测系统中所有可用的Python环境，自动识别Anaconda/Miniconda环境，并可以切换当前环境。 ")]),_:1}),e.loading?(o(),u("div",G,[a(h,{class:"loading-icon"},{default:s(()=>[a(_(g))]),_:1}),J])):e.error?(o(),l(v,{key:1,type:"error",title:e.error,"show-icon":"",closable:!1},null,8,["title"])):z.value?(o(),u("div",K,[(o(!0),u($,null,A(e.environments,n=>(o(),l(f,{key:n.path,shadow:"hover",class:F(["env-card",{"env-card--active":n.active}])},{header:s(()=>[t("div",O,[t("h4",U,d(n.name),1),a(B,{type:S(n),size:"default"},{default:s(()=>[r(d(P(n)),1)]),_:2},1032,["type"])])]),default:s(()=>[t("div",W,[t("div",X,[t("p",Y,d(w(n.version)),1),t("p",Z,d(n.path),1),t("p",ee,d(C(n.packages)),1)]),t("div",te,[n.active?(o(),l(p,{key:0,type:"success",icon:_(V),disabled:"",size:"default"},{default:s(()=>[r(" 当前环境 ")]),_:1},8,["icon"])):(o(),l(p,{key:1,type:"primary",size:"default",onClick:oe=>x(n.path)},{default:s(()=>[r(" 切换到此环境 ")]),_:2},1032,["onClick"]))])])]),_:2},1032,["class"]))),128))])):e.loading?L("",!0):(o(),l(E,{key:3,description:"点击 [检测环境] 按钮, 开始扫描可用的Python环境",class:"empty-state"}))])]),_:1})}}});const le=D(se,[["__scopeId","data-v-56d4c032"]]);export{le as default};
