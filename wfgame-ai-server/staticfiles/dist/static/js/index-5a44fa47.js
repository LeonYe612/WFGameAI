import{E as R}from"./index-ccf167da.js";import{M as _}from"./index-b52b6f30.js";import V from"./OcrTaskHistory-fadaffa3.js";import g from"./RepoManager-c608d534.js";import y from"./OcrTaskDialog-b72065ba.js";import{useOcr as T}from"./hook-088120c0.js";import{m as x,r as l,o as M,A as f,j as O,u as w,I as s,z as a,x as d,B as b}from"./index-fbbdd03e.js";import"./activeTeamInfo.vue_vue_type_script_setup_true_lang-499f8b5f.js";import"./teamStoreStateHook-6f9b9c84.js";import"./team-9c8eb503.js";import"./team-8f659f82.js";import"./request-2aeceb02.js";import"./enums-b2002ef1.js";import"./team-b2bfcf59.js";import"./navHook-089e0a35.js";import"./ocr-8f40b38a.js";const K=x({__name:"index",setup(B){const n=l(!1),u=l(null),m=l(null),r=l(!1),{fetchTasks:c}=T(),k=()=>{var o;r.value=!1,(o=m.value)==null||o.fetchRepositories()},i=()=>{n.value=!0};return M(async()=>{var o;(o=u.value)==null||o.refresh()}),(o,e)=>{const v=f("el-button"),C=f("el-row");return O(),w(_,{title:"OCR识别"},{"header-extra":s(()=>[a(C,null,{default:s(()=>[a(v,{class:"ml-auto",type:"primary",icon:d(R),onClick:i},{default:s(()=>[...e[4]||(e[4]=[b(" 创建 OCR 任务 ",-1)])]),_:1},8,["icon"])]),_:1})]),default:s(()=>[a(V,{ref_key:"taskHistoryRef",ref:u,"fetch-data":d(c),onCreateTask:i},null,8,["fetch-data"]),a(y,{ref_key:"ocrTaskDialogRef",ref:m,modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=t=>n.value=t),task:null,onManageRepos:e[1]||(e[1]=t=>r.value=!0),onSuccess:e[2]||(e[2]=t=>{var p;return(p=u.value)==null?void 0:p.refresh()})},null,8,["modelValue"]),a(g,{modelValue:r.value,"onUpdate:modelValue":e[3]||(e[3]=t=>r.value=t),onClose:k},null,8,["modelValue"])]),_:1})}}});export{K as default};
