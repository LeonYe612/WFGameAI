import{o as V}from"./ocr-2eff45aa.js";import{a as w,o as d}from"./enums-d2c4bc7a.js";import{s as z}from"./request-6dd7bfdd.js";import{l as B,r as E,c as N,z as l,h as c,q as p,H as u,k as a,y as _,v as O,aZ as T,x as o,j as x,m as I,p as m,A as S,F as j,_ as q}from"./index-c3bc70ba.js";const A={class:"card-content"},U={class:"image-container"},D={class:"info-container"},H=["title"],L={class:"info-item text-gray"},Z={class:"info-item text-gray"},$=["title"],G=B({__name:"OcrResultCard",props:{result:{}},emits:["view-image"],setup(g,{emit:y}){const n=g,r=E(n.result.result_type),f=N(()=>Object.values(d).filter(e=>e.value!=="")),h=e=>{const t=w(d,e);return t?t.color:"#F2F2F2"},v=e=>{y("view-image",e)},i=e=>{if(!e)return"未知图片";const t=e.split("/");return t[t.length-1]},C=async e=>{try{await z({apiFunc:V.update,apiParams:{ids:{[n.result.id]:e}},onSucceed:()=>{r.value=e}})}catch{r.value=n.result.result_type}};return(e,t)=>{const b=l("el-image"),k=l("el-radio-button"),R=l("el-radio-group"),F=l("el-card");return c(),p(F,{shadow:"hover",class:"result-card",style:m({background:h(e.result.result_type)})},{default:u(()=>[a("div",A,[a("div",U,[_(b,{class:"cursor-pointer",style:{width:"100%",height:"250px"},src:O(T)(e.result.image_path),fit:"cover",lazy:"",onClick:t[0]||(t[0]=s=>v(e.result))},null,8,["src"])]),a("div",D,[a("h3",{class:"image-name",title:i(e.result.image_path)},o(i(e.result.image_path)),9,H),a("p",L," 分辨率: "+o(e.result.pic_resolution||"-"),1),a("p",Z,"语言: "+o(e.result.languages||"-"),1),a("p",{class:"info-item text-gray",title:e.result.image_path}," 路径: "+o(e.result.image_path||"-"),9,$),_(R,{modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=s=>r.value=s),size:"small",class:"result-type-radios",onChange:C},{default:u(()=>[(c(!0),x(j,null,I(f.value,s=>(c(),p(k,{key:s.value,label:s.value,style:m({"--radio-bg-color":s.color,"--radio-text-color":"#303133"})},{default:u(()=>[S(o(s.label),1)]),_:2},1032,["label","style"]))),128))]),_:1},8,["modelValue"])])])]),_:1},8,["style"])}}});const Q=q(G,[["__scopeId","data-v-cc40cf38"]]);export{Q as default};
