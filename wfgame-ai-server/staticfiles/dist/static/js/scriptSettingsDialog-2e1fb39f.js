import{K as x}from"./index-0964a6d0.js";import{s as F}from"./rules-0bcc1e57.js";import{m as N,r as v,a0 as O,A as r,O as R,j as V,u as T,I as s,l as t,z as l,B as p,y as i,x as b,P as z,k as I,_ as A}from"./index-41f05ddf.js";const E={class:"settings-content"},K={class:"flex items-center justify-between"},q={class:"flex items-center"},G={class:"space-y-2 font-mono text-sm"},H={class:"bg-gray-100 p-2 rounded"},J={class:"text-blue-600"},L={class:"bg-gray-100 p-2 rounded"},M={class:"text-green-600"},Q={class:"bg-gray-100 p-2 rounded"},W={class:"text-purple-600"},X={class:"flex justify-end space-x-2"},Y=N({name:"ScriptSettingsDialog",__name:"scriptSettingsDialog",emits:["saved"],setup(Z,{expose:h,emit:w}){const D=w,m=v(!1),a=v(!1),u=v(),o=O({python_path:"python",debug_cmd:"record_script.py",record_cmd:"record_script.py --record",replay_cmd:"replay_script.py --show-screens"}),k=d=>{Object.assign(o,d),m.value=!0},C=()=>{Object.assign(o,{python_path:"python",debug_cmd:"record_script.py",record_cmd:"record_script.py --record",replay_cmd:"replay_script.py --show-screens"})},S=async()=>{if(u.value)try{await u.value.validate(),a.value=!0,await new Promise(d=>setTimeout(d,500)),D("saved",{...o}),y()}catch(d){console.error("表单验证失败:",d)}finally{a.value=!1}},y=()=>{var d;m.value=!1,(d=u.value)==null||d.resetFields()};return h({showDialog:k}),(d,e)=>{const P=r("el-icon"),f=r("el-button"),c=r("el-input"),_=r("el-form-item"),g=r("el-card"),j=r("el-form"),B=r("el-dialog"),U=R("loading");return V(),T(B,{modelValue:m.value,"onUpdate:modelValue":e[4]||(e[4]=n=>m.value=n),title:"脚本设置",width:"600px",draggable:!0,onClose:y},{footer:s(()=>[t("div",X,[l(f,{onClick:y,disabled:a.value},{default:s(()=>[...e[18]||(e[18]=[p(" 取消 ",-1)])]),_:1},8,["disabled"]),l(f,{type:"primary",icon:b(x),loading:a.value,onClick:S},{default:s(()=>[p(i(a.value?"保存中...":"保存设置"),1)]),_:1},8,["icon","loading"])])]),default:s(()=>[z((V(),I("div",E,[l(j,{ref_key:"formRef",ref:u,model:o,rules:b(F),"label-width":"120px",class:"settings-form"},{default:s(()=>[l(g,{shadow:"never",class:"border mb-4"},{header:s(()=>[t("div",K,[t("div",q,[l(P,{class:"mr-2"},{default:s(()=>[l(b(x))]),_:1}),e[5]||(e[5]=t("span",{class:"font-medium"},"Python环境设置",-1))]),l(f,{size:"small",type:"warning",onClick:C,disabled:a.value},{default:s(()=>[...e[6]||(e[6]=[p(" 恢复默认 ",-1)])]),_:1},8,["disabled"])])]),default:s(()=>[l(_,{label:"Python路径",prop:"python_path"},{default:s(()=>[l(c,{modelValue:o.python_path,"onUpdate:modelValue":e[0]||(e[0]=n=>o.python_path=n),placeholder:"请输入Python可执行文件路径",disabled:a.value},{prepend:s(()=>[...e[7]||(e[7]=[p("python",-1)])]),append:s(()=>[...e[8]||(e[8]=[p(".exe",-1)])]),_:1},8,["modelValue","disabled"]),e[9]||(e[9]=t("div",{class:"text-xs text-gray-500 mt-1"}," 例如: python, python3, C:\\Python39\\python.exe ",-1))]),_:1})]),_:1}),l(g,{shadow:"never",class:"border"},{header:s(()=>[...e[10]||(e[10]=[t("span",{class:"font-medium"},"脚本命令设置",-1)])]),default:s(()=>[l(_,{label:"调试命令",prop:"debug_cmd"},{default:s(()=>[l(c,{modelValue:o.debug_cmd,"onUpdate:modelValue":e[1]||(e[1]=n=>o.debug_cmd=n),placeholder:"调试模式执行的命令",disabled:a.value},null,8,["modelValue","disabled"]),e[11]||(e[11]=t("div",{class:"text-xs text-gray-500 mt-1"},"用于调试脚本录制功能",-1))]),_:1}),l(_,{label:"录制命令",prop:"record_cmd"},{default:s(()=>[l(c,{modelValue:o.record_cmd,"onUpdate:modelValue":e[2]||(e[2]=n=>o.record_cmd=n),placeholder:"录制模式执行的命令",disabled:a.value},null,8,["modelValue","disabled"]),e[12]||(e[12]=t("div",{class:"text-xs text-gray-500 mt-1"},"用于录制新的操作脚本",-1))]),_:1}),l(_,{label:"回放命令",prop:"replay_cmd"},{default:s(()=>[l(c,{modelValue:o.replay_cmd,"onUpdate:modelValue":e[3]||(e[3]=n=>o.replay_cmd=n),placeholder:"回放模式执行的命令",disabled:a.value},null,8,["modelValue","disabled"]),e[13]||(e[13]=t("div",{class:"text-xs text-gray-500 mt-1"},"用于回放已录制的脚本",-1))]),_:1})]),_:1}),l(g,{shadow:"never",class:"border mt-4"},{header:s(()=>[...e[14]||(e[14]=[t("span",{class:"font-medium"},"命令预览",-1)])]),default:s(()=>[t("div",G,[t("div",H,[e[15]||(e[15]=t("span",{class:"text-gray-600"},"调试: ",-1)),t("span",J,i(o.python_path)+" "+i(o.debug_cmd),1)]),t("div",L,[e[16]||(e[16]=t("span",{class:"text-gray-600"},"录制: ",-1)),t("span",M,i(o.python_path)+" "+i(o.record_cmd),1)]),t("div",Q,[e[17]||(e[17]=t("span",{class:"text-gray-600"},"回放: ",-1)),t("span",W,i(o.python_path)+" "+i(o.replay_cmd),1)])])]),_:1})]),_:1},8,["model","rules"])])),[[U,a.value]])]),_:1},8,["modelValue"])}}});const se=A(Y,[["__scopeId","data-v-3cc6fa8a"]]);export{se as default};
