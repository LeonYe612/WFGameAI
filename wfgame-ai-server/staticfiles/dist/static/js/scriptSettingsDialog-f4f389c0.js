import{J as V}from"./index-52ed101c.js";import{s as N}from"./rules-513bd75e.js";import{l as F,r as b,$ as O,z as r,N as R,h as w,q as T,H as t,k as e,y as o,A as _,x as i,v as x,O as z,j as q,ah as A,ai as E,_ as H}from"./index-c3bc70ba.js";const d=p=>(A("data-v-3cc6fa8a"),p=p(),E(),p),J={class:"settings-content"},$={class:"flex items-center justify-between"},G={class:"flex items-center"},K=d(()=>e("span",{class:"font-medium"},"Python环境设置",-1)),L=d(()=>e("div",{class:"text-xs text-gray-500 mt-1"}," 例如: python, python3, C:\\Python39\\python.exe ",-1)),M=d(()=>e("span",{class:"font-medium"},"脚本命令设置",-1)),Q=d(()=>e("div",{class:"text-xs text-gray-500 mt-1"},"用于调试脚本录制功能",-1)),W=d(()=>e("div",{class:"text-xs text-gray-500 mt-1"},"用于录制新的操作脚本",-1)),X=d(()=>e("div",{class:"text-xs text-gray-500 mt-1"},"用于回放已录制的脚本",-1)),Y=d(()=>e("span",{class:"font-medium"},"命令预览",-1)),Z={class:"space-y-2 font-mono text-sm"},ee={class:"bg-gray-100 p-2 rounded"},te=d(()=>e("span",{class:"text-gray-600"},"调试: ",-1)),se={class:"text-blue-600"},oe={class:"bg-gray-100 p-2 rounded"},ae=d(()=>e("span",{class:"text-gray-600"},"录制: ",-1)),le={class:"text-green-600"},de={class:"bg-gray-100 p-2 rounded"},ne=d(()=>e("span",{class:"text-gray-600"},"回放: ",-1)),ce={class:"text-purple-600"},re={class:"flex justify-end space-x-2"},ie=F({name:"ScriptSettingsDialog",__name:"scriptSettingsDialog",emits:["saved"],setup(p,{expose:S,emit:D}){const m=b(!1),a=b(!1),u=b(),s=O({python_path:"python",debug_cmd:"record_script.py",record_cmd:"record_script.py --record",replay_cmd:"replay_script.py --show-screens"}),k=n=>{Object.assign(s,n),m.value=!0},C=()=>{Object.assign(s,{python_path:"python",debug_cmd:"record_script.py",record_cmd:"record_script.py --record",replay_cmd:"replay_script.py --show-screens"})},j=async()=>{if(u.value)try{await u.value.validate(),a.value=!0,await new Promise(n=>setTimeout(n,500)),D("saved",{...s}),f()}catch(n){console.error("表单验证失败:",n)}finally{a.value=!1}},f=()=>{var n;m.value=!1,(n=u.value)==null||n.resetFields()};return S({showDialog:k}),(n,l)=>{const P=r("el-icon"),g=r("el-button"),h=r("el-input"),y=r("el-form-item"),v=r("el-card"),U=r("el-form"),B=r("el-dialog"),I=R("loading");return w(),T(B,{modelValue:m.value,"onUpdate:modelValue":l[4]||(l[4]=c=>m.value=c),title:"脚本设置",width:"600px",draggable:!0,onClose:f},{footer:t(()=>[e("div",re,[o(g,{onClick:f,disabled:a.value},{default:t(()=>[_(" 取消 ")]),_:1},8,["disabled"]),o(g,{type:"primary",icon:x(V),loading:a.value,onClick:j},{default:t(()=>[_(i(a.value?"保存中...":"保存设置"),1)]),_:1},8,["icon","loading"])])]),default:t(()=>[z((w(),q("div",J,[o(U,{ref_key:"formRef",ref:u,model:s,rules:x(N),"label-width":"120px",class:"settings-form"},{default:t(()=>[o(v,{shadow:"never",class:"border mb-4"},{header:t(()=>[e("div",$,[e("div",G,[o(P,{class:"mr-2"},{default:t(()=>[o(x(V))]),_:1}),K]),o(g,{size:"small",type:"warning",onClick:C,disabled:a.value},{default:t(()=>[_(" 恢复默认 ")]),_:1},8,["disabled"])])]),default:t(()=>[o(y,{label:"Python路径",prop:"python_path"},{default:t(()=>[o(h,{modelValue:s.python_path,"onUpdate:modelValue":l[0]||(l[0]=c=>s.python_path=c),placeholder:"请输入Python可执行文件路径",disabled:a.value},{prepend:t(()=>[_("python")]),append:t(()=>[_(".exe")]),_:1},8,["modelValue","disabled"]),L]),_:1})]),_:1}),o(v,{shadow:"never",class:"border"},{header:t(()=>[M]),default:t(()=>[o(y,{label:"调试命令",prop:"debug_cmd"},{default:t(()=>[o(h,{modelValue:s.debug_cmd,"onUpdate:modelValue":l[1]||(l[1]=c=>s.debug_cmd=c),placeholder:"调试模式执行的命令",disabled:a.value},null,8,["modelValue","disabled"]),Q]),_:1}),o(y,{label:"录制命令",prop:"record_cmd"},{default:t(()=>[o(h,{modelValue:s.record_cmd,"onUpdate:modelValue":l[2]||(l[2]=c=>s.record_cmd=c),placeholder:"录制模式执行的命令",disabled:a.value},null,8,["modelValue","disabled"]),W]),_:1}),o(y,{label:"回放命令",prop:"replay_cmd"},{default:t(()=>[o(h,{modelValue:s.replay_cmd,"onUpdate:modelValue":l[3]||(l[3]=c=>s.replay_cmd=c),placeholder:"回放模式执行的命令",disabled:a.value},null,8,["modelValue","disabled"]),X]),_:1})]),_:1}),o(v,{shadow:"never",class:"border mt-4"},{header:t(()=>[Y]),default:t(()=>[e("div",Z,[e("div",ee,[te,e("span",se,i(s.python_path)+" "+i(s.debug_cmd),1)]),e("div",oe,[ae,e("span",le,i(s.python_path)+" "+i(s.record_cmd),1)]),e("div",de,[ne,e("span",ce,i(s.python_path)+" "+i(s.replay_cmd),1)])])]),_:1})]),_:1},8,["model","rules"])])),[[I,a.value]])]),_:1},8,["modelValue"])}}});const ue=H(ie,[["__scopeId","data-v-3cc6fa8a"]]);export{ue as default};
