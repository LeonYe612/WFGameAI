import{a0 as U,m as E,r as Z,A as o,j as g,u as b,I as a,l as r,z as t,k as q,p as C,F as A,B as c,x as y,b0 as F,_ as G}from"./index-41f05ddf.js";const I=U({systemName:[{required:!0,message:"系统名称为必填项",trigger:"blur"},{min:2,max:50,message:"系统名称长度应在2-50字符之间",trigger:"blur"}],adminEmail:[{required:!0,message:"管理员邮箱为必填项",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],maxDevice:[{required:!0,message:"最大设备数量为必填项",trigger:"blur"},{type:"number",min:1,max:1e3,message:"设备数量应在1-1000之间",trigger:"blur"}],reportRetentionDays:[{required:!0,message:"报告保留天数为必填项",trigger:"blur"},{type:"number",min:1,max:365,message:"保留天数应在1-365天之间",trigger:"blur"}],timeZone:[{required:!0,message:"请选择时区",trigger:"change"}]}),M={class:"card-header"},O={class:"settings-content"},j={class:"form-actions"},z=E({name:"GeneralSettings",__name:"generalSettings",props:{settings:{},timeZoneOptions:{},loading:{type:Boolean}},emits:["save","reset","update:settings"],setup(x,{emit:V}){const k=x,m=V,u=Z(),S=async()=>{if(!u.value)return;await u.value.validate().catch(()=>!1)&&m("save")},N=()=>{m("reset")},i=(n,e)=>{const d={...k.settings,[n]:e};m("update:settings",d)};return(n,e)=>{const d=o("Setting"),w=o("el-icon"),v=o("el-input"),s=o("el-form-item"),f=o("el-input-number"),B=o("el-option"),D=o("el-select"),p=o("el-switch"),_=o("el-button"),R=o("el-card");return g(),b(R,{shadow:"never"},{header:a(()=>[r("div",M,[t(w,null,{default:a(()=>[t(d)]),_:1}),e[8]||(e[8]=r("span",{class:"header-title"},"通用设置",-1))])]),default:a(()=>[r("div",O,[t(y(F),{ref_key:"formRef",ref:u,model:n.settings,rules:y(I),"label-width":"120px","label-position":"left"},{default:a(()=>[t(s,{label:"系统名称",prop:"systemName"},{default:a(()=>[t(v,{"model-value":n.settings.systemName,"onUpdate:modelValue":e[0]||(e[0]=l=>i("systemName",l)),placeholder:"请输入系统名称"},null,8,["model-value"])]),_:1}),t(s,{label:"管理员邮箱",prop:"adminEmail"},{default:a(()=>[t(v,{"model-value":n.settings.adminEmail,"onUpdate:modelValue":e[1]||(e[1]=l=>i("adminEmail",l)),placeholder:"请输入管理员邮箱",type:"email"},null,8,["model-value"])]),_:1}),t(s,{label:"最大设备数量",prop:"maxDevice"},{default:a(()=>[t(f,{"model-value":n.settings.maxDevice,"onUpdate:modelValue":e[2]||(e[2]=l=>i("maxDevice",l)),min:1,max:1e3,placeholder:"请输入最大设备数量"},null,8,["model-value"])]),_:1}),t(s,{label:"报告保留天数",prop:"reportRetentionDays"},{default:a(()=>[t(f,{"model-value":n.settings.reportRetentionDays,"onUpdate:modelValue":e[3]||(e[3]=l=>i("reportRetentionDays",l)),min:1,max:365,placeholder:"请输入报告保留天数"},null,8,["model-value"])]),_:1}),t(s,{label:"时区设置",prop:"timeZone"},{default:a(()=>[t(D,{"model-value":n.settings.timeZone,"onUpdate:modelValue":e[4]||(e[4]=l=>i("timeZone",l)),placeholder:"请选择时区",style:{width:"100%"}},{default:a(()=>[(g(!0),q(A,null,C(n.timeZoneOptions,l=>(g(),b(B,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["model-value"])]),_:1}),t(s,{label:"邮件通知"},{default:a(()=>[t(p,{"model-value":n.settings.enableNotifications,"onUpdate:modelValue":e[5]||(e[5]=l=>i("enableNotifications",l)),"active-text":"启用","inactive-text":"关闭"},null,8,["model-value"])]),_:1}),t(s,{label:"自动备份"},{default:a(()=>[t(p,{"model-value":n.settings.enableAutoBackup,"onUpdate:modelValue":e[6]||(e[6]=l=>i("enableAutoBackup",l)),"active-text":"启用","inactive-text":"关闭"},null,8,["model-value"])]),_:1}),t(s,{label:"调试模式"},{default:a(()=>[t(p,{"model-value":n.settings.debugMode,"onUpdate:modelValue":e[7]||(e[7]=l=>i("debugMode",l)),"active-text":"开启","inactive-text":"关闭"},null,8,["model-value"])]),_:1}),t(s,null,{default:a(()=>[r("div",j,[t(_,{type:"primary",loading:n.loading,onClick:S},{default:a(()=>[...e[9]||(e[9]=[c(" 保存设置 ",-1)])]),_:1},8,["loading"]),t(_,{type:"default",onClick:N},{default:a(()=>[...e[10]||(e[10]=[c(" 重置 ",-1)])]),_:1})])]),_:1})]),_:1},8,["model","rules"])])]),_:1})}}});const T=G(z,[["__scopeId","data-v-5df10aab"]]);export{T as default};
