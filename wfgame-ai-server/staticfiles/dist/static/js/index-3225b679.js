import{D as C}from"./index-52ed101c.js";import{M as R}from"./index-aa289759.js";import y from"./OcrTaskHistory-c269656c.js";import V from"./RepoManager-196911f0.js";import g from"./OcrTaskDialog-987516ec.js";import{useOcr as T}from"./hook-4ab85b30.js";import{l as M,r as l,o as x,z as f,h,q as O,H as s,y as a,v as d,A as w}from"./index-c3bc70ba.js";import"./activeTeamInfo.vue_vue_type_script_setup_true_lang-70492afd.js";import"./teamStoreStateHook-a7dc154e.js";import"./team-2a364612.js";import"./team-dc58a0de.js";import"./request-6dd7bfdd.js";import"./enums-d2c4bc7a.js";import"./team-3cb80684.js";import"./navHook-8958b211.js";import"./ocr-2eff45aa.js";const K=M({__name:"index",setup(D){const n=l(!1),u=l(null),m=l(null),r=l(!1),{fetchTasks:c}=T(),k=()=>{var o;r.value=!1,(o=m.value)==null||o.fetchRepositories()},i=()=>{n.value=!0};return x(async()=>{var o;(o=u.value)==null||o.refresh()}),(o,e)=>{const v=f("el-button"),_=f("el-row");return h(),O(R,{title:"OCR识别"},{"header-extra":s(()=>[a(_,null,{default:s(()=>[a(v,{class:"ml-auto",type:"primary",icon:d(C),onClick:i},{default:s(()=>[w(" 创建 OCR 任务 ")]),_:1},8,["icon"])]),_:1})]),default:s(()=>[a(y,{ref_key:"taskHistoryRef",ref:u,"fetch-data":d(c),onCreateTask:i},null,8,["fetch-data"]),a(g,{ref_key:"ocrTaskDialogRef",ref:m,modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=t=>n.value=t),task:null,onManageRepos:e[1]||(e[1]=t=>r.value=!0),onSuccess:e[2]||(e[2]=t=>{var p;return(p=u.value)==null?void 0:p.refresh()})},null,8,["modelValue"]),a(V,{modelValue:r.value,"onUpdate:modelValue":e[3]||(e[3]=t=>r.value=t),onClose:k},null,8,["modelValue"])]),_:1})}}});export{K as default};
