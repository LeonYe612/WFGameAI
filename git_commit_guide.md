# Git 提交规范指南

## 概述

为确保项目提交历史的清晰一致，请遵循此提交信息规范。

## 提交信息格式

```
<type>(<scope>): <简要描述问题和修复>

修复内容：
1. <修改模块/文件1>:
   - <具体修改内容>
   - <具体修改内容>

2. <修改模块/文件2>:
   - <具体修改内容>
   - <具体修改内容>

3. <修改的关键点>:
   - <具体修改内容>
   - <具体修改内容>

修复问题: "<错误信息或问题描述>"

测试: <描述如何验证修复结果>
日期: <提交日期，格式：Month DD, YYYY>
```

## 类型(Type)说明
- `fix`: 修复bug
- `feat`: 新功能
- `docs`: 文档更新
- `style`: 代码风格或格式修改
- `refactor`: 代码重构（不涉及功能变更）
- `perf`: 性能优化
- `test`: 添加或修改测试
- `build`: 构建系统或外部依赖项修改
- `ci`: CI配置或脚本修改

## 常用范围(Scope)
- `templates`: 模板系统
- `devices`: 设备管理
- `scripts`: 脚本处理
- `ui`: 用户界面
- `api`: API接口
- `docs`: 文档
- `config`: 配置

## 配置Git模板

执行以下命令启用标准提交模板：

```bash
python setup_git_template.py
```

## VS Code配置

VS Code的"Generate commit message with Copilot"功能可能不会完全遵循项目模板。推荐方法：

1. 在提交信息输入框中输入`commit`并按Tab键，使用项目自定义代码片段
2. 使用Copilot补充具体细节
3. 确保最终提交信息符合项目规范

**注意**: 项目已在`.vscode/commit-snippets.code-snippets`中配置了代码片段，在VS Code中自动可用。

## 示例

```
feat(devices): 增强设备连接与管理功能

修复内容：
1. 设备连接模块(device_manager.py):
   - 添加自动重连机制，连接失败自动尝试3次
   - 增加设备健康检查，定期验证连接状态
   - 优化USB通信，降低连接延迟

2. 设备管理界面(devices.html):
   - 添加设备详情展示面板
   - 优化设备列表UI，支持多选操作
   - 增加设备分组功能

3. 异常处理机制:
   - 优化设备连接异常日志
   - 增加连接超时自动恢复
   - 添加详细的设备连接失败原因分析

修复问题: "设备连接不稳定导致自动化测试中断"

测试: 使用5台不同厂商设备进行连接测试，验证了自动重连功能
日期: May 21, 2025
```

更多详细规范请参考项目代码规范文档：`docs/WFGameAI-Coding-Standards.md`
