# =====================================
# WFGameAI 中央配置文件
# 目的: 统一管理路径、数据库、OCR、服务等配置
# 重要说明:
# - 优先使用 ${section:option} 或 ${option} 进行路径插值
# - 避免使用绝对路径, 在生产环境使用相对路径或环境变量
# - 本文件由多个服务共享, 修改需评估全局影响
# - 值仅说明用途, 不在此处写入敏感信息
# - 变更前请阅读 `wfgame-ai-server\config_validator.py`
# =====================================

[paths]
# Python 解释器路径. 建议通过环境变量注入, 仅在开发机使用本地路径
python_path = F:\QA\Software\anaconda3\envs\py39_yolov10\python.exe

# 项目根目录. 请避免绝对路径, 推荐由启动脚本动态计算工作目录并传入
project_root = C:\Users\Administrator\PycharmProjects\WFGameAI

# 项目所有页面目录
project_pages_dir = ${project_root}\wfgame-ai-server\staticfiles\pages

# =====================================

# 服务器目录
server_dir = ${project_root}\wfgame-ai-server

# =====================================

# [脚本管理]apps 模块目录
scripts_dir = ${server_dir}\apps\scripts

# =====================================

# [测试用例]apps 模块目录
testcase_dir = ${server_dir}\apps\scripts\testcase

# =====================================

# [报告生成]apps 模块功能目录

reports_dir = ${server_dir}\apps\reports

ui_reports_dir = ${reports_dir}\ui_reports

# =====================================

# [OCR模块]apps 目录与相关路径
ocr_dir = ${server_dir}\apps\ocr
ocr_results_dir = ${project_root}\output\ocr\results
ocr_uploads_dir = ${server_dir}\media
ocr_repos_dir = ${server_dir}\media\ocr\repositories
ocr_temp_dir = ${server_dir}\media\ocr\temp
ocr_exports_dir = ${server_dir}\media\ocr\exports
ocr_logs_dir = ${server_dir}\logs\ocr

# =====================================

# 数据集目录
datasets_dir = ${project_root}\datasets

# 训练结果目录
train_results_dir = ${project_root}\train_results

# 权重文件目录
weights_dir = ${project_root}\models

# 模型文件路径
#model_path = ${weights_dir}\20250710_best.pt
model_path = ${weights_dir}\best.pt

# =====================================

[devices_report_paths]
# 设备回放后生成报告根目录
device_replay_reports_dir = ${paths:server_dir}\staticfiles\reports

# 设备回放报告生成-静态资源目录
report_static_url = ${device_replay_reports_dir}\static

# 设备回放报告模版
template_dir = ${device_replay_reports_dir}\templates

# 单设备报告目录
single_device_reports_dir = ${device_replay_reports_dir}\ui_run\WFGameAI.air\log

# 多设备汇总报告目录
summary_reports_dir = ${device_replay_reports_dir}\summary_reports

# =====================================

[database]
# MySQL 连接参数. 生产环境请通过环境变量或密钥管理注入敏感信息
host = 172.28.133.134
port = 3307
username = root
password = qa123456
dbname = gogotest_data


[account_manager]
# 会话与资源管理配置
# 会话超时时间 (秒)
session_timeout = 3600
# 清理检查间隔 (秒)
cleanup_interval = 300
# 最大并发会话数
max_concurrent_sessions = 100
# 启用 Windows 音效通知
enable_sound_alerts = true
# 数据库连接池大小
db_pool_size = 20
# 心跳检查间隔 (秒)
heartbeat_interval = 60
# 自动迁移文件数据
auto_migrate_on_startup = true

[settings]
# 测试相关设置
default_loop_count = 1
default_max_duration = 30
confidence_threshold = 0.6

[ocr]
# OCR引擎配置
gpu_enabled = true
ocr_default_lang = ch



# GPU配置
gpu_memory_threshold = 4096

# 多线程配置
ocr_max_workers = 1
ocr_batch_size = 20
thread_timeout = 600

# 语言配置
supported_languages = ch,en,jp,ko,vi
default_language = ch

# 性能监控
enable_performance_monitoring = true
monitoring_interval = 10

# 安全配置
max_file_size_mb = 100
max_files_per_task = 1000
allowed_image_formats = jpg,jpeg,png,bmp,tiff,tif,webp
blocked_file_extensions = exe,dll,bat,sh,cmd,js,php,py

# 文件管理配置
results_retention_days = 30
temp_file_cleanup_interval = 3600
enable_auto_cleanup = true


# PaddleOCR DB/REC 底层阈值

# 打印过滤调试日志（仅控制控制台/文件的调试输出）
log_filter_debug = true
# 保存过滤调试日志到文件
log_filter_debug_save = true

# 使用文档图像方向分类模块
use_doc_orientation_classify = false
# 使用文档图像扭曲矫正模块
use_doc_unwarping = false
# 使用文本行方向分类模块
use_textline_orientation = false

# 模型名称（仅限 PP-OCRv5 server 版本）
text_detection_model_name = PP-OCRv5_server_det
text_recognition_model_name = PP-OCRv5_server_rec

# 文本检测像素阈值，输出概率图中分数大于该值的像素才会被认为是文本像素点，取值范围0~1。默认0.30
text_det_thresh = 0.30
# 文本检测框阈值，检测结果边框中所有像素点的平均分数大于该阈值时，该结果会被认为是文字区域，取值范围0~1。默认0.60
text_det_box_thresh = 0.60
# 文本检测膨胀系数，用于对文本区域进行膨胀，值越大，膨胀面积越大。默认1.50
text_det_unclip_ratio = 0.00
# 文本检测的图像边长限制类型，合法值：min/max/None（None 表示使用产线初始化默认，通常为 max）
text_det_limit_type = min
# 将其设置为 0 表示不强制，遵循 PaddleOCR 内部默认缩放策略
text_det_limit_side_len = 960
# 文本识别结果过滤阈值，识别得分大于该阈值的文本将被保留, 取值范围0~1. 默认0.00
text_rec_score_thresh = 0.00

