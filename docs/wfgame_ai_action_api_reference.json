{
    "WFGameAI_Action_API": {
        "version": "1.1",
        "updated": "2025-07-07",
        "actions": {
            "basic": {
                "click": "点击操作 (支持多种定位方式, 推荐使用target_selector)",
                "swipe": "滑动操作",
                "input": "文本输入 (支持${account:username}/${account:password})",
                "delay": "延时等待"
            },
            "advanced": {
                "wait_if_exists": "条件等待 - 元素存在时等待消失",
                "wait_for_disappearance": "等待元素消失 - 监控指定元素直到消失",
                "wait_for_appearance": "等待元素出现",
                "wait_for_stable": "等待界面稳定",
                "retry_until_success": "重试直到成功",
                "checkbox": "复选框勾选"
            },
            "app_management": {
                "app_start": "应用启动 (含权限处理)",
                "app_stop": "应用停止",
                "device_preparation": "设备预处理"
            },
            "utility": {
                "log": "日志记录"
            }
        },
        "examples": [
            {
                "title": "基础点击",
                "action": "click",
                "class": "button-login",
                "remark": "点击登录按钮"
            },
            {
                "title": "文本输入",
                "action": "input",
                "text": "${account:username}",
                "target_selector": {
                    "placeholder": "请输入用户名"
                },
                "remark": "输入用户名"
            },
            {
                "title": "智能点击",
                "action": "click",
                "target_selector": {
                    "text_hints": [
                        "其他登录方式",
                        "切换登录"
                    ],
                    "skip_if_not_found": true
                },
                "remark": "点击登录方式切换"
            },
            {
                "title": "等待消失",
                "action": "wait_for_disappearance",
                "class": "loading-spinner",
                "polling_interval": 1000,
                "max_duration": 30,
                "remark": "等待加载动画消失"
            },
            {
                "title": "应用启动",
                "class": "app_start",
                "params": {
                    "app_name": "com.example.app",
                    "handle_permission": true
                },
                "remark": "启动应用并处理权限"
            }
        ],
        "best_practices": {
            "时序控制": [
                "热更新处理: 使用 wait_if_exists + delay 组合",
                "界面切换: 操作后添加 1-3 秒 delay",
                "网络等待: 使用较长的 max_duration (如300秒)"
            ],
            "元素定位": [
                "优先使用 click 的 target_selector",
                "text_hints 提供多个文字选项",
                "设置 skip_if_not_found: true 容错"
            ],
            "账号管理": [
                "变量: ${account:username}, ${account:password}",
                "输入清理: clear_previous_text: true"
            ],
            "调试技巧": [
                "每步添加 remark 备注",
                "步骤编号递增",
                "关键元素设置高 confidence (0.9+)"
            ]
        },
        "action_suggestions": {
            "immediate": [
                "wait_for_stable",
                "retry_until_success"
            ],
            "short_term": [
                "wait_for_appearance",
                "wait_for_all"
            ],
            "long_term": [
                "fallback_actions",
                "adaptive_delay"
            ]
        },
        "timing_solutions": {
            "问题": "步骤1 (wait_if_exists) 完成后，步骤2 (click) 立即执行但界面还未稳定",
            "解决方案": {
                "方案1 - 添加稳定性检查": [
                    {
                        "step": 1,
                        "action": "wait_if_exists",
                        "class": "system-newResources"
                    },
                    {
                        "step": 1.5,
                        "action": "wait_for_stable",
                        "stability_duration": 2
                    },
                    {
                        "step": 2,
                        "action": "click",
                        "target_selector": {
                            "text_hints": [
                                "其他登录方式"
                            ]
                        }
                    }
                ],
                "方案2 - 智能重试": [
                    {
                        "step": 1,
                        "action": "wait_if_exists",
                        "class": "system-newResources"
                    },
                    {
                        "step": 2,
                        "action": "retry_until_success",
                        "target_action": "click",
                        "max_retries": 5
                    }
                ],
                "方案3 - 等待元素出现": [
                    {
                        "step": 1,
                        "action": "wait_if_exists",
                        "class": "system-newResources"
                    },
                    {
                        "step": 2,
                        "action": "wait_for_appearance",
                        "target_selector": {
                            "text_hints": [
                                "其他登录方式"
                            ]
                        }
                    },
                    {
                        "step": 3,
                        "action": "click",
                        "target_selector": {
                            "text_hints": [
                                "其他登录方式"
                            ]
                        }
                    }
                ]
            }
        },
        "notes": "所有 click_target 已废弃，统一使用 click 并推荐 target_selector 作为智能定位方式。文档内容与 2025-07-07 代码实现完全同步。"
    }
}